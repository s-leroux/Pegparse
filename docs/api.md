<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [grammar][1]
-   [set][2]
-   [union][3]
    -   [Parameters][4]
-   [difference][5]
    -   [Parameters][6]
-   [charset][7]
    -   [Parameters][8]
-   [litteral][9]
    -   [Parameters][10]
-   [nat][11]
    -   [Parameters][12]
-   [not][13]
    -   [Parameters][14]
-   [and][15]
    -   [Parameters][16]
-   [any][17]
-   [rule][18]
    -   [Parameters][19]
-   [concat][20]
    -   [Parameters][21]
-   [choice][22]
    -   [Parameters][23]
-   [zeroOrOne][24]
    -   [Parameters][25]
-   [optional][26]
    -   [Parameters][27]
-   [zeroOrMore][28]
    -   [Parameters][29]
-   [oneOrMore][30]
    -   [Parameters][31]
-   [capture][32]
    -   [Parameters][33]
-   [join][34]
    -   [Parameters][35]
-   [string][36]
    -   [Parameters][37]
-   [except][38]
    -   [Parameters][39]
-   [anyExcept][40]
    -   [Parameters][41]
-   [Grammar][42]
    -   [Examples][43]
    -   [define][44]
        -   [Parameters][45]
    -   [parser][46]
        -   [Parameters][47]
-   [parser][48]
-   [Parser][49]
    -   [Parameters][50]
    -   [dump][51]
    -   [pushd][52]
        -   [Parameters][53]
    -   [char][54]
        -   [Parameters][55]
    -   [charset][56]
        -   [Parameters][57]
    -   [move][58]
        -   [Parameters][59]
    -   [any][60]
    -   [fail][61]
    -   [end][62]
    -   [call][63]
        -   [Parameters][64]
    -   [jsr][65]
        -   [Parameters][66]
    -   [ret][67]
        -   [Parameters][68]
    -   [frame][69]
    -   [drop][70]
    -   [reduce][71]
        -   [Parameters][72]
    -   [choice][73]
        -   [Parameters][74]
    -   [commit][75]
        -   [Parameters][76]
    -   [accept][77]
        -   [Parameters][78]
    -   [run][79]
    -   [restart][80]
    -   [skip][81]
        -   [Parameters][82]
    -   [result][83]
    -   [matchAll][84]

## grammar

## set

Return the charset as a string.

## union

Return the union of this charset and the charset defined by `specs`.

### Parameters

-   `specs` **...any** 

## difference

Return the difference between this charset and the charset defined by `specs`.

### Parameters

-   `specs` **...any** 

## charset

Match one character if present in the given charset.

Charset may be specified either:

-   as a range ("0-9");
-   as string containing the individual charaters of the set ("0123456789");
-   as any iterable over a string (including another Charset object).

### Parameters

-   `specs` **...any** 

## litteral

Match a string of characters.

Capture the entire string

### Parameters

-   `str`  

## nat

Negative lookarround.

Move the token pointer relative to the current position and
check the given program do _not_ match. Can be used as a negative
lookbehind (delta &lt; 0) or lookafter (delta >= 0). In all cases,
restore the input to its previous position on exit.

Capture nothing.

### Parameters

-   `delta`  
-   `programs` **...any** 

## not

The _not_ predicate.

Succeed if the given program fails with the current input.
Do not consume any character.

Capture nothing.

### Parameters

-   `programs` **...any** 

## and

The _and_ predicate

Succeed if the given program succeed, but without consuming any character.
Can be used as a positive lookahead.

Capture nothing.

### Parameters

-   `programs` **...any** 

## any

Match any character. Fail only if there is no more token to process.

Capture the matched character.

## rule

Match a rule of the grammar.

### Parameters

-   `name` **[string][85]** The name of the rule to match. The rule does not have
    already exist. It might be defined later.

## concat

Concatenation of several programs.

Will match the sequence:
programs[0],programs[1],programs[2]..programs[n]

### Parameters

-   `programs` **...any** 

## choice

Ordered choice.

Try to match each alternative in its own turn. Stop trying
once there is a match. Fail if there is no match.

### Parameters

-   `alternatives` **...any** 

## zeroOrOne

The zero-or-one quantifier.

Match 0 or 1 repetition of a program.

If there is no match, capture the _undefined_ special value.

### Parameters

-   `programs` **...any** 

## optional

A variation of tThe zero-or-one quantifier.

This form takes only one program as an argument, but
it allows specifying the default value to substitute
if there is no match.

### Parameters

-   `program`  
-   `defaultValue`  

## zeroOrMore

The zero-or-more quantifier.

Match 0, 1 or several repetitions of the same program.

### Parameters

-   `programs` **...any** 

## oneOrMore

The one-or-more quantifier.

Match 1 or several repetitions of the same program.

### Parameters

-   `programs` **...any** 

## capture

Capture the data from a sub-program into an array.

This allow data capture without requiring to define
a new rule specifically for that.

### Parameters

-   `programs` **...any** 

## join

Capture the data from a sub-program into a string

This allow data capture without requiring to define
a new rule specifically for that.

### Parameters

-   `programs` **...any** 

## string

Macro equivalent to `join(oneOrMore(...))`.

Match 1 or several repetition of a pattern and convert the
capture into a string.

### Parameters

-   `programs` **...any** 

## except

Match any pattern except if ay of the `rest` PEG match.

Macro equivalent to \`not(tail[0]), not(tail[1]), ... not(tail[n]), head());

### Parameters

-   `head`  
-   `tail` **...any** 

## anyExcept

Match any character except if ay of the `rest` PEG match.

Macro equivalent to \`not(rest[0]), not(rest[1]), ... not(rest[n]), any());

### Parameters

-   `rest` **...any** 

## Grammar

The Grammar class.

### Examples

```javascript
// Create a new grammar
const grammar = new peg.Grammar();
```

### define

Define a new rule.

#### Parameters

-   `name` **[string][85]** The name of the rule
-   `program`  
-   `action`  

### parser

Return a new [Parser][46] for the grammar.

#### Parameters

-   `start` **[string][85]** The name of the rule to match.
-   `context`  

## parser

## Parser

The Parser class.

### Parameters

-   `grammar` **[Grammar][86]** The grammar
-   `start` **[String][87]** The rule to match
-   `context`  

### dump

Dump debugging informations.

The debugging informations contains:

The disassembled code for the VM at the current position.
A dump of the backtrack stack.
A dump of the operational ("call") stack.

### pushd

Push a value onto the stack.

#### Parameters

-   `value`  

### char

Test for a character. Fail if it doesn't match.

#### Parameters

-   `c`  

### charset

Match any character in a string. Fail if it doesn't match.

#### Parameters

-   `set`  

### move

Move the tx. Fail if it would move _before_ the first token.

#### Parameters

-   `delta`  

### any

Test for any character. Fail if there is no
character at the current position (i.e.: before the first
or after the last character).

### fail

Force a failure. Return to the last saved backtrack point
or stop the machine and signal failure.

### end

Stop the machine. Signal success.

### call

Replace the current stack frame by the result
of an external (JavaScript) function.

#### Parameters

-   `fct`  

### jsr

Jump to subroutine (or subrule ?)

Save the current pc and code, then jump on
the first instruction for the given nonterminal.

#### Parameters

-   `nonterminal`  

### ret

Return from a call.

#### Parameters

-   `fct`  

### frame

-   **See: drop()
    **
-   **See: reduce()
    **

Create a stack frame.

### drop

-   **See: frame()
    **
-   **See: reduce()
    **

Drop the current stack frame.

### reduce

-   **See: drop()
    **
-   **See: frame()
    **

Reduce the current stack frame to only one item.
If a callable is given as a parameter, replace the current
stack frame by the result of the function applied to the data
on the frame. If no user function is specified, pack the data in an array.

#### Parameters

-   `fct` **callable?** The callable to use to pack the data.

### choice

Create a backtracking entry on the stack

#### Parameters

-   `offset`  

### commit

Commit a choice. Discard the topmost backtrack stack entry and jump
to instruction.

#### Parameters

-   `offset` **integer** The position of the next instruction to
    execute, relative to the current _pc_.

### accept

accept one or more characters. Run the machine as long as we have token to process.

#### Parameters

-   `tokens`  

### run

continue execution until the machine stops.

Call this function when you now there will no more tokens
to append using the [accept()][88] call.

### restart

Restart the parser at the current token

XXX Is this private?

### skip

Skip n tokens from the input

XXX Is this private?

#### Parameters

-   `n`  

### result

Return the top-most object on the stack if the machine has stopped.
Return undefined otherwise

### matchAll

Return a generator for all the tokens parts matching the
parser's grammar, possibly skipping an arbitrary number
of input tokens betwenn matches.

[1]: #grammar

[2]: #set

[3]: #union

[4]: #parameters

[5]: #difference

[6]: #parameters-1

[7]: #charset

[8]: #parameters-2

[9]: #litteral

[10]: #parameters-3

[11]: #nat

[12]: #parameters-4

[13]: #not

[14]: #parameters-5

[15]: #and

[16]: #parameters-6

[17]: #any

[18]: #rule

[19]: #parameters-7

[20]: #concat

[21]: #parameters-8

[22]: #choice

[23]: #parameters-9

[24]: #zeroorone

[25]: #parameters-10

[26]: #optional

[27]: #parameters-11

[28]: #zeroormore

[29]: #parameters-12

[30]: #oneormore

[31]: #parameters-13

[32]: #capture

[33]: #parameters-14

[34]: #join

[35]: #parameters-15

[36]: #string

[37]: #parameters-16

[38]: #except

[39]: #parameters-17

[40]: #anyexcept

[41]: #parameters-18

[42]: #grammar-1

[43]: #examples

[44]: #define

[45]: #parameters-19

[46]: #parser

[47]: #parameters-20

[48]: #parser-1

[49]: #parser-2

[50]: #parameters-21

[51]: #dump

[52]: #pushd

[53]: #parameters-22

[54]: #char

[55]: #parameters-23

[56]: #charset-1

[57]: #parameters-24

[58]: #move

[59]: #parameters-25

[60]: #any-1

[61]: #fail

[62]: #end

[63]: #call

[64]: #parameters-26

[65]: #jsr

[66]: #parameters-27

[67]: #ret

[68]: #parameters-28

[69]: #frame

[70]: #drop

[71]: #reduce

[72]: #parameters-29

[73]: #choice-1

[74]: #parameters-30

[75]: #commit

[76]: #parameters-31

[77]: #accept

[78]: #parameters-32

[79]: #run

[80]: #restart

[81]: #skip

[82]: #parameters-33

[83]: #result

[84]: #matchall

[85]: #string

[86]: #grammar

[87]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[88]: accept()

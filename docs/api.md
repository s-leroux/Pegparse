<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [grammar][1]
-   [charset][2]
    -   [Parameters][3]
-   [litteral][4]
    -   [Parameters][5]
-   [nat][6]
    -   [Parameters][7]
-   [not][8]
    -   [Parameters][9]
-   [and][10]
    -   [Parameters][11]
-   [any][12]
-   [rule][13]
    -   [Parameters][14]
-   [concat][15]
    -   [Parameters][16]
-   [choice][17]
    -   [Parameters][18]
-   [zeroOrOne][19]
    -   [Parameters][20]
-   [zeroOrMore][21]
    -   [Parameters][22]
-   [oneOrMore][23]
    -   [Parameters][24]
-   [capture][25]
    -   [Parameters][26]
-   [Grammar][27]
    -   [Examples][28]
    -   [define][29]
        -   [Parameters][30]
    -   [parser][31]
        -   [Parameters][32]
-   [parser][33]
-   [Parser][34]
    -   [Parameters][35]
    -   [dump][36]
    -   [pushd][37]
        -   [Parameters][38]
    -   [char][39]
        -   [Parameters][40]
    -   [charset][41]
        -   [Parameters][42]
    -   [move][43]
        -   [Parameters][44]
    -   [any][45]
    -   [fail][46]
    -   [end][47]
    -   [call][48]
        -   [Parameters][49]
    -   [jsr][50]
        -   [Parameters][51]
    -   [ret][52]
        -   [Parameters][53]
    -   [frame][54]
    -   [drop][55]
    -   [reduce][56]
        -   [Parameters][57]
    -   [choice][58]
        -   [Parameters][59]
    -   [commit][60]
        -   [Parameters][61]
    -   [accept][62]
        -   [Parameters][63]
    -   [run][64]
    -   [restart][65]
    -   [skip][66]
        -   [Parameters][67]
    -   [result][68]
    -   [matchAll][69]

## grammar

## charset

Match one character if present in the given charset.

Charsets may be specified either as a string containing all the chars
in the set ("0123456789"), or a range ("0-9").

### Parameters

-   `specs` **...any** 

## litteral

Match a string of characters.

Capture each character individually.

### Parameters

-   `str`  

## nat

Negative lookarround.

Move the token pointer relative to the current position and
check the given program do _not_ match. Can be used as a negative
lookbehind (delta &lt; 0) or lookafter (delta >= 0). In all cases,
restore the input to its previous position on exit.

Capture nothing.

### Parameters

-   `delta`  
-   `programs` **...any** 

## not

The _not_ predicate.

Succeed if the given program fails with the current input.
Do not consume any character.

Capture nothing.

### Parameters

-   `programs` **...any** 

## and

The _and_ predicate

Succeed if the given program succeed, but without consuming any character.
Can be used as a positive lookahead.

Capture nothing.

### Parameters

-   `programs` **...any** 

## any

Match any character. Fail only if there is no more token to process.

Capture the matched character.

## rule

Match a rule of the grammar.

### Parameters

-   `name` **[string][70]** The name of the rule to match. The rule does not have
    already exist. It might be defined later.

## concat

Concatenation of several programs.

Will match the sequence:
programs[0],programs[1],programs[2]..programs[n]

### Parameters

-   `programs` **...any** 

## choice

Ordered choice.

Try to match each alternative in its own turn. Stop trying
once there is a match. Fail if there is no match.

### Parameters

-   `alternatives` **...any** 

## zeroOrOne

The zero-or-one quantifier.

Match 0 or 1 repetition of a program.

If there is no match, capture the _undefined_ special value.

### Parameters

-   `programs` **...any** 

## zeroOrMore

The zero-or-more quantifier.

Match 0, 1 or several repetitions of the same program.

### Parameters

-   `programs` **...any** 

## oneOrMore

The one-or-more quantifier.

Match 1 or several repetitions of the same program.

### Parameters

-   `programs` **...any** 

## capture

Capture the data from a sub-program into an array.

This allow data capture without requiring to define
a new rule specifically for that.

### Parameters

-   `programs` **...any** 

## Grammar

The Grammar class.

### Examples

```javascript
// Create a new grammar
const grammar = new peg.Grammar();
```

### define

Define a new rule.

#### Parameters

-   `name` **[string][70]** The name of the rule
-   `program`  
-   `action`  

### parser

Return a new [Parser][31] for the grammar.

#### Parameters

-   `start` **[string][70]** The name of the rule to match.
-   `context`  

## parser

## Parser

The Parser class.

### Parameters

-   `grammar` **[Grammar][71]** The grammar
-   `start` **[String][70]** The rule to match
-   `context`  

### dump

Dump debugging informations.

The debugging informations contains:

The disassembled code for the VM at the current position.
A dump of the backtrack stack.
A dump of the operational ("call") stack.

### pushd

Push a value onto the stack.

#### Parameters

-   `value`  

### char

Test for a character. Fail if it doesn't match.

#### Parameters

-   `c`  

### charset

Match any character in a string. Fail if it doesn't match.

#### Parameters

-   `set`  

### move

Move the tx. Fail if it would move _before_ the first token.

#### Parameters

-   `delta`  

### any

Test for any character. Fail if there is no
character at the current position (i.e.: before the first
or after the last character).

### fail

Force a failure. Return to the last saved backtrack point
or stop the machine and signal failure.

### end

Stop the machine. Signal success.

### call

Replace the current stack frame by the result
of an external (JavaScript) function.

#### Parameters

-   `fct`  

### jsr

Jump to subroutine (or subrule ?)

Save the current pc and code, then jump on
the first instruction for the given nonterminal.

#### Parameters

-   `nonterminal`  

### ret

Return from a call.

#### Parameters

-   `fct`  

### frame

-   **See: drop()
    **
-   **See: reduce()
    **

Create a stack frame.

### drop

-   **See: frame()
    **
-   **See: reduce()
    **

Drop the current stack frame.

### reduce

-   **See: drop()
    **
-   **See: frame()
    **

Reduce the current stack frame to only one item.
If a callable is given as a parameter, replace the current
stack frame by the result of the function applied to the data
on the frame. If no use function is specified, pack the data in an array.

#### Parameters

-   `fct` **callable?** The callable to use to pack the data.

### choice

Create a backtracking entry on the stack

#### Parameters

-   `offset`  

### commit

Commit a choice. Discard the topmost backtrack stack entry and jump
to instruction.

#### Parameters

-   `offset` **integer** The position of the next instruction to
    execute, relative to the current _pc_.

### accept

accept one or more characters. Run the machine as long as we have token to process.

#### Parameters

-   `tokens`  

### run

continue execution until the machine stops.

Call this function when you now there will no more tokens
to append using the [accept()][72] call.

### restart

Restart the parser at the current token

XXX Is this private?

### skip

Skip n tokens from the input

XXX Is this private?

#### Parameters

-   `n`  

### result

Return the top-most object on the stack if the machine has stopped.
Return undefined otherwise

### matchAll

Return a generator for all the tokens parts matching the
parser's grammar, possibly skipping an arbitrary number
of input tokens betwenn matches.

[1]: #grammar

[2]: #charset

[3]: #parameters

[4]: #litteral

[5]: #parameters-1

[6]: #nat

[7]: #parameters-2

[8]: #not

[9]: #parameters-3

[10]: #and

[11]: #parameters-4

[12]: #any

[13]: #rule

[14]: #parameters-5

[15]: #concat

[16]: #parameters-6

[17]: #choice

[18]: #parameters-7

[19]: #zeroorone

[20]: #parameters-8

[21]: #zeroormore

[22]: #parameters-9

[23]: #oneormore

[24]: #parameters-10

[25]: #capture

[26]: #parameters-11

[27]: #grammar-1

[28]: #examples

[29]: #define

[30]: #parameters-12

[31]: #parser

[32]: #parameters-13

[33]: #parser-1

[34]: #parser-2

[35]: #parameters-14

[36]: #dump

[37]: #pushd

[38]: #parameters-15

[39]: #char

[40]: #parameters-16

[41]: #charset-1

[42]: #parameters-17

[43]: #move

[44]: #parameters-18

[45]: #any-1

[46]: #fail

[47]: #end

[48]: #call

[49]: #parameters-19

[50]: #jsr

[51]: #parameters-20

[52]: #ret

[53]: #parameters-21

[54]: #frame

[55]: #drop

[56]: #reduce

[57]: #parameters-22

[58]: #choice-1

[59]: #parameters-23

[60]: #commit

[61]: #parameters-24

[62]: #accept

[63]: #parameters-25

[64]: #run

[65]: #restart

[66]: #skip

[67]: #parameters-26

[68]: #result

[69]: #matchall

[70]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[71]: #grammar

[72]: accept()
